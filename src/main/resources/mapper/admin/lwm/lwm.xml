<?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lms.admin.lwm.mapper.LwmMapper">
<!-- 수업주차정보 전체 조회-->
<select id="searchLwmList" resultType="com.lms.admin.lwm.dto.LwmDto">
    <![CDATA[
            SELECT distinct
                c.curriculum_id as curriculumId,
                li.lecture_year as lectureYear,
                clw.week_id as weekId,
                c.curriculum_semester as curriculumSemester,
                c.curriculum_division as curriculumDivision,
                clw.lecture_week as lectureWeek,
                clw.start_date as startDate,
                clw.end_date as endDate,
                clw.makeup_week as makeupWeek
            FROM
                curriculum c
                    JOIN lecture_info li ON c.curriculum_id = li.curriculum_id
                    JOIN curriculum_lecture_week clw ON c.curriculum_id = clw.curriculum_id
            where
                clw.week_id;
        ]]>
</select>

<!-- 수업주차정보 년도와 학기별 선택 조회-->
<select id="searchLwmByYearAndSemester" parameterType="map" resultType="com.lms.admin.lwm.dto.LwmDto">
    <![CDATA[
        SELECT distinct
            c.curriculum_id as curriculumId,
            li.lecture_year as lectureYear,
            clw.week_id as weekId,
            c.curriculum_semester as curriculumSemester,
            c.curriculum_division as curriculumDivision,
            clw.lecture_week as lectureWeek,
            clw.start_date as startDate,
            clw.end_date as endDate,
            clw.makeup_week as makeupWeek
        FROM
            curriculum c
            JOIN lecture_info li ON c.curriculum_id = li.curriculum_id
            JOIN curriculum_lecture_week clw ON c.curriculum_id = clw.curriculum_id
        WHERE
            li.lecture_year = #{lectureYear} AND
            c.curriculum_semester = #{curriculumSemester}
        ]]>
</select>

<!-- 수업주자정보 저장 -->

<!-- 수업주차정보 삭제-->

<!-- 수업주차정보 검색결과 조회 카운트-->

</mapper>