<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- xml파일을 사용할 mapper가 있는 경로 -->
<mapper namespace="com.lms.admin.curriculum.mapper.CurriculumMapper">

    <!-- 교육과정 리스트 조회하기 -->
    <select id="selectCurriculum" resultType="com.lms.admin.curriculum.dto.CurriculumDto">
        SELECT
            curriculum_id,
            curriculum_name,
            curriculum_content,
            curriculum_year,
            lecture_week,
            start_date,
            end_date
        FROM curriculum
    </select>

    <insert id="insertCurriculum" parameterType="com.lms.admin.curriculum.dto.CurriculumDto">
        INSERT INTO curriculum
            (curriculum_name, curriculum_content, curriculum_year, lecture_week, start_date, end_date)
        VALUES
            (#{curriculumName}, #{curriculumContent}, #{curriculumYear}, #{lectureWeek}, #{startDate}, #{endDate})
    </insert>

    <delete id="deleteCurriculum">
        DELETE FROM curriculum
        WHERE curriculum_id IN
        <foreach item="id" collection="curriculumIds" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>